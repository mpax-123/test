<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>UK Arrest Report Form</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #f7f9fc;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
    }

    form {
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 3px 15px rgba(0,0,0,0.1);
      max-width: 600px;
      width: 100%;
    }

    h1 {
      text-align: center;
      margin-bottom: 25px;
      color: #222;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: 600;
      color: #333;
    }

    input[type="text"],
    input[type="number"],
    textarea,
    select {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 16px;
      resize: vertical;
      box-sizing: border-box;
      font-family: 'Inter', sans-serif;
    }

    textarea {
      min-height: 80px;
    }

    button {
      margin-top: 25px;
      width: 100%;
      background-color: #0066ff;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 700;
      font-size: 18px;
      cursor: pointer;
      padding: 14px;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #004ecc;
    }

    .message {
      margin-top: 20px;
      text-align: center;
      font-weight: 600;
      font-size: 16px;
      color: green;
    }

    .error {
      color: red;
    }
  </style>
</head>
<body>

  <form id="arrestForm">
    <h1>UK Arrest Report Form</h1>

    <label for="officer_name">Officer Name</label>
    <input type="text" id="officer_name" name="officer_name" required placeholder="e.g. John Smith" />

    <label for="collar_number">Collar Number</label>
    <input type="text" id="collar_number" name="collar_number" required placeholder="e.g. 1234" />

    <label for="suspect_name">Suspect Name</label>
    <input type="text" id="suspect_name" name="suspect_name" required placeholder="Suspect full name" />

    <label for="offences">Offences (comma separated)</label>
    <input type="text" id="offences" name="offences" required placeholder="e.g. Theft, Assault" />

    <label for="location">Location of Arrest</label>
    <input type="text" id="location" name="location" required placeholder="Where the arrest took place" />

    <label for="necessities">Necessities for Arrest</label>
    <textarea id="necessities" name="necessities" required placeholder="Explain the necessities for arrest"></textarea>

    <label for="incident">Incident Details</label>
    <textarea id="incident" name="incident" required placeholder="Describe the incident details"></textarea>

    <label for="caution_given">Was the Caution Given?</label>
    <select id="caution_given" name="caution_given" required>
      <option value="" disabled selected>Select one</option>
      <option value="Yes">Yes</option>
      <option value="No">No</option>
    </select>

    <label for="force_used">Use of Force (if any)</label>
    <textarea id="force_used" name="force_used" placeholder="Describe any use of force"></textarea>

    <button type="submit">Submit Report</button>

    <div id="message" class="message" style="display:none;"></div>
  </form>

  <script>
    document.getElementById('arrestForm').addEventListener('submit', function(e) {
      e.preventDefault();

      const messageBox = document.getElementById('message');
      messageBox.style.display = "none";
      messageBox.classList.remove('error');
      messageBox.textContent = "";

      // Collect form data
      const data = {
        officer_name: e.target.officer_name.value.trim(),
        collar_number: e.target.collar_number.value.trim(),
        suspect_name: e.target.suspect_name.value.trim(),
        offences: e.target.offences.value.trim(),
        location: e.target.location.value.trim(),
        necessities: e.target.necessities.value.trim(),
        incident: e.target.incident.value.trim(),
        caution_given: e.target.caution_given.value,
        force_used: e.target.force_used.value.trim(),
      };

      // Build HTML report to save locally
      const caseID = `case-${Date.now()}`;
      const htmlContent = `
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Arrest Report - ${data.suspect_name}</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #f9f9f9;
      padding: 40px;
      color: #333;
    }
    h2 {
      margin-bottom: 20px;
      color: #222;
    }
    .field {
      margin-bottom: 15px;
    }
    .field strong {
      display: inline-block;
      width: 180px;
    }
  </style>
</head>
<body>
  <h2>ðŸš“ Arrest Report</h2>
  <div class="field"><strong>Officer:</strong> ${data.officer_name} (#${data.collar_number})</div>
  <div class="field"><strong>Suspect:</strong> ${data.suspect_name}</div>
  <div class="field"><strong>Offences:</strong> ${data.offences}</div>
  <div class="field"><strong>Location:</strong> ${data.location}</div>
  <div class="field"><strong>Necessities for Arrest:</strong> ${data.necessities}</div>
  <div class="field"><strong>Incident Details:</strong> ${data.incident}</div>
  <div class="field"><strong>Caution Given:</strong> ${data.caution_given}</div>
  <div class="field"><strong>Use of Force:</strong> ${data.force_used || "None reported"}</div>
  <div class="field"><strong>Submitted:</strong> ${new Date().toLocaleString()}</div>
</body>
</html>`;

      // Retrieve existing reports or initialize
      let htmlReports = JSON.parse(localStorage.getItem("htmlReports") || "{}");
      htmlReports[caseID] = htmlContent;
      localStorage.setItem("htmlReports", JSON.stringify(htmlReports));

      // Success message
      messageBox.style.color = "green";
      messageBox.textContent = "âœ… Arrest report submitted successfully!";
      messageBox.style.display = "block";

      e.target.reset();
    });
  </script>
</body>
</html>
